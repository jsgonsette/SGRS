# Tâche 24

Trouvez le carré clé, trouvez ensuite la ville clé correspondante.


## Analyse

Je suis bloqué malgré le fait que je suis à peu près sur d'avoir le fil général.

La question ressemble à un [chiffre de Playfair](https://fr.wikipedia.org/wiki/Chiffre_de_Playfair), pour lequel il est nécessaire de disposer d'un carré de codage/décodage. Ce dernier se construit dans un carré de 5x5 (25 lettres on oublie le plus souvent le **J**), dans lequel on écrit d'abord les lettres de la clé, puis enfin le reste de l'alphabet.

Ici le carré fait 6x6, donc soit on joue également avec les chiffres, soit le carré a refaire ne fait que 5x5.

Pour refaire le carré, a priori il suffit de reconstruire le puzzle en respectant les encoches, mais ce n'est pas si simple !

On est d'abord très tenté de mettre les coins (4, O, M et R) à leur position correspondante. **Je doute cependant que la solution soit si conventionnelle**. Je pense plutôt que si un coté est plat, il suffit qu'il touche un autre coté plat, et pas forcément qu'il soit au bord. De plus il faut faire attention à certaines lettres ou chiffres que l'on peut retourner:

* H, I, N, O, S, Z, 0, 6, 8 et 9 peuvent éventuellement être tournés de 180°
* X et éventuellement O peuvent être tournés de 90°

[Ce programme](./../code/P24.py) essaie toutes les combinaisons possibles, **en vain**. Ce qui est frustrant, c'est qu'il ne trouve même pas de solution pour un carré 5x5, quand bien même on autorise les chiffres. Je ne sais pas si mon code est défecteux ou s'il y a autre chose que je n'ai pas compris.

**'commentaire/Baudouin:**
* bien lire l'énoncé: "Attention ! Pour ce cryptage, les outils sur Internet ne donnent pas toujours la bonne réponse, nous vous
conseillons donc de vérifier avec plusieurs outils ou de le faire manuellement."
intrigant... serait-ce par ce que le "j" est à conserver ???
* ce qui m'intrigue encore plus c est la question à déchiffrer, j ai du mal a m imaginer qu'1 carré de Playfair pourrait aider a déchiffrer une si longue question qui ne comporte que des A D F G V X, en plus dans le codage de Playfair on ne peut pas avoir 1 paire de lettre avec 2 meme lettres....
* Tout cela étant dit, cela me fait penser au carré de Polybe en base36. il faudrait dès lors composer un carré de 8x8 afin de trouver la clé de décodage pour la question. En faisant de la sorte peut-etre y aura-t-il une ville qui apparaitra... 
* il serait logique que les lettres A D F G V X soient utilisées pour composer le carré de 8x8.


**'Commentaire Gonz'**
* je conseille l'utilisation d'une paire de ciseaux ;-) c'est pas mal comme outil, quoi que hors de portée d'un électricien
* Je pense qu'il faut bien faire un carré, avec des bords droits. Il  y a 4 coins, 16 pièces de bords, et 16 pièces centrales. Mais rien n'exclu la possibilité de réaliser un carré plus petit (5X5)
* Avec des ciseaux et du papier, rien ne t'empêche de retourner une pièce (la lettre n'est juste pas visible, sans doute non utilisée)
* je ne vois pas le problème de tourner n'importe quelle lettre a 90° oiu 180°, du moment qu'elle est lisible.
==> je me focaliserais en 1er lieu sur la réalisation du puzzle (dès que j'aurais une imprimante) la je travaille avec paint, sans souris, c'est un peu lent

**'Commentaire Jef2000'**
![puzzle24-2.png](puzzle24-2.png)
* J'ai créé le puzzle au format Gimp: puzzle24-2.xcf . Chaque pièce est un calque séparé. Il y a une fonction pour tourner un calque et pour faire un mirroir
* Si on autorise de retourner les pièces (miroir), il y a plusieures solution pour le cadre 6*6. J'ai ajouté un code python qui trouve toutes les possibilités:
    O 3 8 S 9 R E X K V 4 J W 0 7 M 5 2 Y 6
    O 3 8 S 9 R E X K J 4 V W 0 7 M 5 2 Y 6
    O 3 8 S 9 R E V K X 4 J W 0 7 M 5 2 Y 6
    O 3 8 J W R E X K V 4 S 9 0 7 M 5 2 Y 6
    O 3 8 J W R E V K X 4 S 9 0 7 M 5 2 Y 6
    O 3 E V W R 8 J K X 4 S 9 0 7 M 5 2 Y 6
    O K X Y 9 R 8 S 2 5 M 7 0 W V 4 J 3 E 6
    O K X Y 9 R 8 S 2 5 M 7 0 W J 4 V 3 E 6


Les 2 dernières correspondent plus ou moins a ma première solution de cadre, mais quand on essaie  de compléter l'intérieur  on tombe sur des impossibilités.

Dans le reste des solutions, on trouve une séquence commune 0 7 M 5 2 Y 6 O 3. Si je la construit puis essaie de trouver des pièces qui correspondent en commençant par les coins (qui imposent  2 arêtes) on peut  avancer  de proche en proche avec toujours une ou deux solutions possibles, et quand on en a deux, la pièce suivante vient en éliminer une des deux. Une fois rempli tout ce qui est possible, on peut continuer le bord en regardant les pièces intérieurs qui correspondraient et reconstruire le carré de proche  en proche sans avoir a considérer trop de branches en parallèle.

Au final, on obtient:

![puzzle24-4.png](puzzle24-4.png)

**'Commentaire JS'**
De mon coté, j'ai ajouté les symmétries verticales et horizontales à mon programme. Si je prends comme base que les lettres doivent malgré tout apparaitre à l'endroit, ce code n'arrive même pas à créer une grille 4x4. En d'autres termes, ceux qui sont dessus à la main devrait peut être essayer de créer une petite grille 4x4. C'est plus rapide et ça permettrait de voir s'il y a une subtilité qui nous échappe.


